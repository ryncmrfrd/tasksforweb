/*
     A fully minified and not at all overcomplicated 
    script by https://ryncmrfrd.me. It's downhill from here.
*/
var currentList,humanTasks={isInitialised:!1,init:function(t){t?gapi.load("client:auth2",function(){gapi.client.init({apiKey:"AIzaSyASt3Og3sWDH1M_FrktQBpEunDCrYBklis",clientId:"992470092590-vupnkaegj4buv46kmbgdsd2f2v2lhtc9.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/tasks/v1/rest"],scope:"https://www.googleapis.com/auth/tasks"}).then(function(){humanTasks.isInitialised=!0,humanTasks.callback(t)})}):console.error("Callback function has not been provided")},auth:{isLoggedIn:function(){if(humanTasks.isInitialised)return gapi.auth2.getAuthInstance().isSignedIn.get();console.error('Function "tasks.init()" must be called first')},login:function(t){humanTasks.isInitialised?gapi.auth2.getAuthInstance().signIn().then(function(){t&&humanTasks.callback(t)}):console.error('Function "tasks.init()" must be called first')},logout:function(t){humanTasks.isInitialised?gapi.auth2.getAuthInstance().signOut().then(function(){t&&humanTasks.callback(t)}):console.error('Function "tasks.init()" must be called first')}},taskLists:{get:function(t){humanTasks.isInitialised?0!=arguments.length?gapi.client.tasks.tasklists.list().then(function(s){t&&humanTasks.callback(t,s.result.items)}):console.error("Incorrect function parameters"):console.error('Function "tasks.init()" must be called first')},add:function(t,s){humanTasks.isInitialised?0!=arguments.length?gapi.client.tasks.tasklists.insert({title:t}).then(function(){s&&humanTasks.callback(s)}):console.error("Incorrect function parameters"):console.error('Function "tasks.init()" must be called first')},remove:function(t,s){humanTasks.isInitialised?0!=arguments.length?gapi.client.tasks.tasklists.delete({tasklist:t}).then(function(){s&&humanTasks.callback(s)}):console.error("Incorrect function parameters"):console.error('Function "tasks.init()" must be called first')},edit:function(t,s,e){humanTasks.isInitialised?0!=arguments.length?gapi.client.tasks.tasklists.update({tasklist:t,id:t,title:s}).then(function(){e&&humanTasks.callback(e)}):console.error("Incorrect function parameters"):console.error('Function "tasks.init()" must be called first')}},tasks:{get:function(t,s){humanTasks.isInitialised?0!=arguments.length?gapi.client.tasks.tasks.list({tasklist:t}).then(function(t){s&&humanTasks.callback(s,t.result.items)}):console.error("Incorrect function parameters"):console.error('Function "tasks.init()" must be called first')},add:function(t,s,e){humanTasks.isInitialised?0!=arguments.length?gapi.client.tasks.tasks.insert({tasklist:t,resource:s}).then(function(t){e&&humanTasks.callback(e,t)}):console.error("Incorrect function parameters"):console.error('Function "tasks.init()" must be called first')},remove:function(t,s){humanTasks.isInitialised?0!=arguments.length?gapi.client.tasks.tasks.delete({tasklist:t,task:taskId,id:taskId}).then(function(){s&&humanTasks.callback(s)}):console.error("Incorrect function parameters"):console.error('Function "tasks.init()" must be called first')},edit:function(t,s,e,n){humanTasks.isInitialised?0!=arguments.length?gapi.client.tasks.tasks.patch({tasklist:t,task:s,resource:e}).then(function(t){n&&humanTasks.callback(n,t)}):console.error("Incorrect function parameters"):console.error('Function "tasks.init()" must be called first')},complete:function(t,s,e){gapi.client.tasks.tasks.patch({tasklist:t,task:s,resource:{status:"completed"}}).then(function(t){e&&humanTasks.callback(e,t)})}},callback:function(t,s){0!=arguments.length?s?t(s):t():console.error("Incorrect function parameters")}};function startApp(){humanTasks.auth.isLoggedIn()?humanTasks.taskLists.get(function(t){for(var s=0;s<t.length;s++){function e(t){humanTasks.tasks.get(t,function(s){for(var e=0;e<s.length;e++)"needsAction"==s[e].status&&$("#task-wrapper section#"+t).append('<div class="task" id="'+s[e].id+'"><button onclick="setElementAsCompleted(this)" id="task-button"><i class="fas fa-check"></i></button><div class="task-details"><h2 contenteditable="true" class="task-title">'+s[e].title+'</h2></div><button onclick="deleteElement(this)" id="delete-task-button"><i class="fas fa-times"></i></button></div>');var n;$(".user-icon").css("background","url("+gapi.auth2.getAuthInstance().currentUser.Ab.w3.Paa+") center/cover"),$(".task-title").focusin(function(){n=this.innerText}),$(".task-title").focusout(function(){if(n!=this.innerText){var t=this.parentNode.parentNode.id,s={title:this.innerText};humanTasks.tasks.edit(currentList,t,s)}})})}$("#task-wrapper").append('<section id="'+t[s].id+'"></section>'),$("#task-list-title").append('<option value="'+t[s].id+'">'+t[s].title+"</option>"),currentList=$("#task-list-title").val(),e(t[s].id)}$("section").hide(),$("section#"+t[0].id).show(),addTasksButton(),$(".taskListSelector").fadeIn("slow"),$("#task-wrapper").fadeIn("slow"),$("header").fadeIn("slow")}):window.location.href="login"}function addTasksButton(){$(".addTask").click(function(){$(".addTaskForm").css("display","flex"),$(".addTaskFormGrey").show()}),$(".addTaskFormGrey").click(function(){$(".addTaskForm").hide(),$(".addTaskFormGrey").hide()}),$(".addTaskButton").click(function(){var t={title:$("#formTaskTitle").val()};humanTasks.tasks.add(currentList,t,function(t){$("#task-wrapper section#"+currentList).prepend('<div class="task" id="'+t.result.id+'"><button onclick="setElementAsCompleted(this)" id="task-button"><i class="fas fa-check"></i></button><div class="task-details"><h2 contenteditable="true" class="task-title">'+t.result.title+'</h2></div><button onclick="deleteElement(this)" id="delete-task-button"><i class="fas fa-times"></i></button></div>')}),$(".addTaskForm").hide(),$(".addTaskFormGrey").hide()})}function setElementAsCompleted(t){humanTasks.tasks.complete(currentList,t.parentNode.id),$("#"+t.parentNode.id).remove()}function deleteElement(t){humanTasks.tasks.edit(currentList,t.parentNode.id,{deleted:"true"}),$("#"+t.parentNode.id).remove()}$("#task-list-title").change(function(){currentList=$(this).val(),$("section").hide(),$("section#"+currentList).show()});