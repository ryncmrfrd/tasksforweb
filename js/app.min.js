/*
      A properly documented and not at all overcomplicated 
    script by https://ryncmrfrd.me. It's downhill from here.
*/
var currentList;function startApp(){humanTasks.auth.isLoggedIn()?(humanTasks.taskLists.get(function(e){for(var t=0;t<e.length;t++){function i(e){humanTasks.tasks.get(e,function(t){for(var i=0;i<t.length;i++)"needsAction"==t[i].status&&$("#task-wrapper div#"+e).append('<article class="message" id="'+t[i].id+'"><div class="message-body level"><div class="level-item level-left"><button onclick="setElementAsCompleted(this)" class="button is-rounded is-success" style="margin-right: 20px;border-radius: 50%; width: 36px;"><i class="fas fa-check"></i></button><h1 id="task-title" class="subtitle is-4" contenteditable="true">'+t[i].title+'</h1></div><div class="level-item level-right"><button onclick="deleteElement(this)" class="delete is-medium"></button></div></div></article>');var s;$("#task-title").focusin(function(){s=this.innerText}),$("#task-title").focusout(function(){if(s!=this.innerText){var e=this.parentNode.parentNode.id,t={title:this.innerText};humanTasks.tasks.edit(currentList,e,t)}})})}$("#task-wrapper").append('<div class="container" id="'+e[t].id+'"></div>'),$("#task-list-title").append('<option value="'+e[t].id+'">'+e[t].title+"</option>"),currentList=$("#task-list-title").val(),i(e[t].id)}$("div.container").hide(),$("div.container#"+e[0].id).show(),$("#addTaskButton").click(function(){$("form").show(),$("#mainWrapper").css("filter","blur(5px)")}),$("#closeNewTaskForm").click(function(e){e.preventDefault(),$("form").hide(),$("#mainWrapper").css("filter","blur(0px)")}),$("#createTaskButton").click(function(e){e.preventDefault();var t={title:$("#formTaskTitle").val()};humanTasks.tasks.add(currentList,t,function(e){$("#task-wrapper div#"+currentList).prepend('<article class="message" id="'+e.result.id+'"><div class="message-body level"><div class="level-item level-left"><button onclick="setElementAsCompleted(this)" class="button is-rounded is-success" style="margin-right: 20px;border-radius: 50%; width: 36px;"><i class="fas fa-check"></i></button><h1 id="task-title" class="subtitle is-4" contenteditable="true">'+e.result.title+'</h1></div><div class="level-item level-right"><button onclick="deleteElement(this)" class="delete is-medium"></button></div></div></article>')}),$("form").hide(),$("#mainWrapper").css("filter","blur(0px)")})}),$("#loader").fadeOut(),$("main").fadeIn()):window.location.href="login"}function setElementAsCompleted(e){humanTasks.tasks.complete(currentList,e.parentNode.parentNode.parentNode.id),$("#"+e.parentNode.parentNode.parentNode.id).remove()}function deleteElement(e){humanTasks.tasks.edit(currentList,e.parentNode.parentNode.parentNode.id,{deleted:"true"}),$("#"+e.parentNode.parentNode.parentNode.id).remove()}$("#task-list-title").change(function(){currentList=$(this).val(),$("div.container").hide(),$("div.container#"+currentList).show()});