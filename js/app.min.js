/*
     _            _                                                __         _                  
    | |          | |                                              / _|       | |                 
    | |_ __ _ ___| | _____   _ __ _   _ _ __   ___ _ __ ___  _ __| |_ _ __ __| |  _ __ ___   ___ 
    | __/ _` / __| |/ / __| | '__| | | | '_ \ / __| '_ ` _ \| '__|  _| '__/ _` | | '_ ` _ \ / _ \
    | || (_| \__ \   <\__ \_| |  | |_| | | | | (__| | | | | | |  | | | | | (_| |_| | | | | |  __/
     \__\__,_|___/_|\_\___(_)_|   \__, |_| |_|\___|_| |_| |_|_|  |_| |_|  \__,_(_)_| |_| |_|\___|
                                   __/ |                                                         
                                  |___/                                                          
       
                         (generated by http://patorjk.com/software/taag)
*/
var currentList;function startApp(){tasks.auth.isLoggedIn()?(loadDynamicContent(),createForms(),$("#loader").fadeOut(),$("main").fadeIn()):window.location.href="login"}function loadDynamicContent(){tasks.taskLists.get(function(t){for(var e=0;e<t.length;e++){function i(t){tasks.tasks.get(t,function(e){if(null!=e){for(var i=0;i<e.length;i++)"needsAction"==e[i].status&&$("#task-wrapper div#"+t).append('<article class="message" id="'+e[i].id+'"><div class="message-body level"><div class="level-item level-left"><button onclick="completeTask(this)" class="button is-rounded is-success" style="margin-right: 20px;border-radius: 50%; width: 36px;"><i class="fas fa-check"></i></button><h1 id="task-title" class="subtitle is-4" contenteditable="true">'+e[i].title+'</h1></div><div class="level-item level-right"><button onclick="deleteTask(this)" class="delete is-medium"></button></div></div></article>');var s;$("#task-title").focusin(function(){s=this.innerText}),$("#task-title").focusout(function(){if(s!=this.innerText){var t=this.parentNode.parentNode.parentNode.id,e={title:this.innerText};tasks.tasks.edit(currentList,t,e)}})}})}$("#task-wrapper").append('<div class="container" id="'+t[e].id+'"></div>'),$("#task-list-title").append('<option value="'+t[e].id+'">'+t[e].title+"</option>"),currentList=$("#task-list-title").val(),i(t[e].id)}$("div.container").hide(),$("div.container#"+t[0].id).show()})}function createForms(){$("#formSubmitTask").click(function(t){t.preventDefault();var e={title:$("#formItemContentTask").val()};tasks.tasks.add(currentList,e,function(t){$("#task-wrapper div#"+currentList).prepend('<article class="message" id="'+t.result.id+'"><div class="message-body level"><div class="level-item level-left"><button onclick="completeTask(this)" class="button is-rounded is-success" style="margin-right: 20px;border-radius: 50%; width: 36px;"><i class="fas fa-check"></i></button><h1 id="task-title" class="subtitle is-4" contenteditable="true">'+t.result.title+'</h1></div><div class="level-item level-right"><button onclick="deleteTask(this)" class="delete is-medium"></button></div></div></article>')}),$("#formClose").click()}),$("#openFormTask").click(function(){$("form").fadeIn(),$("main").css("filter","blur(5px)"),$("#formTitleTask, #formItemTitleTask, #formItemContentTask, #formSubmitTask").show()}),$("#formSubmitList").click(function(t){t.preventDefault(),tasks.taskLists.add($("#formItemContentList").val(),function(t){$("#task-wrapper div#"+currentList).prepend('<article class="message" id="'+t.result.id+'"><div class="message-body level"><div class="level-item level-left"><button onclick="completeTask(this)" class="button is-rounded is-success" style="margin-right: 20px;border-radius: 50%; width: 36px;"><i class="fas fa-check"></i></button><h1 id="task-title" class="subtitle is-4" contenteditable="true">'+t.result.title+'</h1></div><div class="level-item level-right"><button onclick="deleteTask(this)" class="delete is-medium"></button></div></div></article>')}),$("#formClose").click(),location.reload()}),$("#openFormList").click(function(){$("form").fadeIn(),$("main").css("filter","blur(5px)"),$("#formTitleList, #formItemTitleList, #formItemContentList, #formSubmitList").show()}),$("#deleteTasklist").click(function(){tasks.taskLists.remove(currentList),location.reload()}),$("#formClose").click(function(){$("form").fadeOut(),$("main").css("filter","blur(0px)"),$("#formTitleTask, #formTitleList, #formItemTitleTask, #formItemTitleList, #formItemContentTask, #formItemContentList, #formSubmitTask, #formSubmitList").fadeOut()})}function completeTask(t){tasks.tasks.complete(currentList,t.parentNode.parentNode.parentNode.id),$("#"+t.parentNode.parentNode.parentNode.id).fadeOut()}function deleteTask(t){tasks.tasks.edit(currentList,t.parentNode.parentNode.parentNode.id,{deleted:"true"}),$("#"+t.parentNode.parentNode.parentNode.id).animate({width:"toggle"},350,function(){$("#"+t.parentNode.parentNode.parentNode.id).hide()})}$("#formTitleTask, #formTitleList, #formItemTitleTask, #formItemTitleList, #formItemContentTask, #formItemContentList, #formSubmitTask, #formSubmitList").hide(),"true"==localStorage.getItem("DarkMode")?($("#dark").prop("disabled",!1),$("#darkModeToggle").prop("checked",!0)):"false"==localStorage.getItem("DarkMode")&&($("#dark").prop("disabled",!0),$("#darkModeToggle").prop("checked",!1)),$("#darkModeToggle").change(function(){this.checked?($('link[rel~="stylesheet"]#dark').prop("disabled",!1),localStorage.setItem("DarkMode","true")):($('link[rel~="stylesheet"]#dark').prop("disabled",!0),localStorage.setItem("DarkMode","false"))}),$("#task-list-title").change(function(){currentList=$(this).val(),$("div.container").hide(),$("div.container#"+currentList).show()});